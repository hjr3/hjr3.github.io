<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="no-referrer-when-downgrade">

    <title>Working with C unions in Rust FFI</title>
    <meta name="description" content="">

    <link rel="alternate" type="application/atom+xml" title="Atom feed" href="https://hermanradtke.com/atom.xml">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="me" href="https://hachyderm.io/@hjr3">

    <link rel="stylesheet" href="https://hermanradtke.com/main.css">
    <style>
      body {
        font-size: min(max(1em, 1.3vw), 1.3em);
      }

      a.zola-anchor {
        color: inherit;
      }
    </style>

    
    
        <link rel="alternate" type="application/atom+xml" title="Atom" href="https://hermanradtke.com/atom.xml">
    
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https://hermanradtke.com/rss.xml">
    
    

    
  <meta name="author" content="Herman J. Radtke III" />
  <meta name="description" content="" />

  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="Working with C unions in Rust FFI" />
  <meta property="og:description" content="" />
  <meta property="og:url" content="https://hermanradtke.com/2016/03/17/unions-rust-ffi.html/" />
  <meta property="og:site_name" content="Herman J. Radtke III Blog" />
  <meta property="og:type" content="article" />
  <meta property="article:published_time" content="2016-03-17" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@hermanradtke" />
  <meta property="twitter:title" content="Working with C unions in Rust FFI" />
  <meta property="twitter:description" content="" />
  <meta property="twitter:image" content="http://cdn.hermanradtke.com/glasses.jpg" />

  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>

  <style>
    code {
      background-color: ghostwhite;
    }

    pre > code {
      background-color: transparent;
    }

    details > summary {
      display: list-item
    }
  </style>

</head>
<body>
    <a class="skip-main" href="#main">Skip to content</a>
    <div class="container">
        <header>
            <h1 class="site-header">
                <a href="https:&#x2F;&#x2F;hermanradtke.com">Herman J. Radtke III</a>
            </h1>
            <nav>
                
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;about">About</a>
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;projects">Projects</a>
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;talks">Talks</a>
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;tags">Tags</a>
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;links">Links</a>
                
                
                <a  href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;atom.xml">Feed</a>
                
                
            </nav>
        </header>
        <main id="main" tabindex="-1">
            

<article class="post">
    <header>
        <h1>Working with C unions in Rust FFI</h1>
    </header>
    <div class="content">
        <p>When building a foreign function interface to C code, we will inevitably run into a struct that has a union. Rust has no built-in support for unions, so we must come up with a strategy on our own. A union is a type in C that stores different data types in the same memory location. There are a number of reasons why someone may want to choose a union, including: converting between binary representations of integers and floats, implementing pseudo-polymorphism and direct access to bits. I am going to focus on the pseudo-polymorphism case.</p>
<p>Edit: Added a <a href="https://hermanradtke.com/2016/03/17/unions-rust-ffi.html/#warning">warning</a> at the bottom based on feedback from <a href="https://twitter.com/jckarter/status/710875695539310592">Joe Groff</a>.</p>
<p>Note: This post assumes the reader is familiar with <a href="https://doc.rust-lang.org/book/ffi.html">Rust FFI</a>, <a href="https://en.wikipedia.org/wiki/Endianness">endianess</a> and <a href="https://en.wikipedia.org/wiki/Ioctl">ioctl</a>.</p>
<p>As an example, let us get the MAC address based on an interface name. We can summarize the steps to get the MAC address as follows:</p>
<ul>
<li>Specify a request type to be used with <code>ioctl</code>. If I want to get the MAC (or hardware) address, I specify <code>SIOCGIFHWADDR</code>.</li>
<li>Write the interface name to <code>ifr_name</code>. An interface name is something like <code>eth0</code>.</li>
<li>Make the request using <code>ioctl</code>. A successful request will write some data to <code>ifr_ifru</code>.</li>
</ul>
<p>For more details on how to get a MAC address, read this <a href="http://www.microhowto.info/howto/get_the_mac_address_of_an_ethernet_interface_in_c_using_siocgifhwaddr.html">howto</a>.</p>
<p>We need to use the C <code>ioctl</code> function and also pass the <code>ifreq</code> struct to the function. Looking in <code>/usr/include/net/if.h</code>, we can see that <code>ifreq</code> is defined as follows:</p>
<pre data-lang="C" style="background-color:#2b303b;color:#c0c5ce;" class="language-C "><code class="language-C" data-lang="C"><span style="color:#b48ead;">struct  </span><span>ifreq {
</span><span>        </span><span style="color:#b48ead;">char</span><span>    ifr_name[IFNAMSIZ];
</span><span>        </span><span style="color:#b48ead;">union </span><span>{
</span><span>                </span><span style="color:#b48ead;">struct</span><span>  sockaddr ifru_addr;
</span><span>                </span><span style="color:#b48ead;">struct</span><span>  sockaddr ifru_dstaddr;
</span><span>                </span><span style="color:#b48ead;">struct</span><span>  sockaddr ifru_broadaddr;
</span><span>                </span><span style="color:#b48ead;">short</span><span>   ifru_flags;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_metric;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_mtu;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_phys;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_media;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_intval;
</span><span>                caddr_t ifru_data;
</span><span>                </span><span style="color:#b48ead;">struct</span><span>  ifdevmtu ifru_devmtu;
</span><span>                </span><span style="color:#b48ead;">struct</span><span>  ifkpi   ifru_kpi;
</span><span>                u_int32_t ifru_wake_flags;
</span><span>                u_int32_t ifru_route_refcnt;
</span><span>                </span><span style="color:#b48ead;">int</span><span>     ifru_cap[</span><span style="color:#d08770;">2</span><span>];
</span><span>        } ifr_ifru;
</span><span>}
</span></code></pre>
<p>The <code>ifr_ifru</code> union is where things start to get tricky. Glancing at the possible types in <code>ifr_ifru</code>, we notice that they are not all the same size. A <code>short</code> is 2 bytes and <code>u_int32_t</code> is 4 bytes. To complicate matters, we have a number of different struct definitions of unknown size. It is important that we figure out exactly what the size of the <code>ifreq</code> struct so we can write the proper Rust code. I wrote a small C program and figured out that <code>ifreq</code> uses 16 bytes for <code>ifr_name</code> and 24 bytes for <code>ifr_ifru</code>.</p>
<p>Armed with the knowledge of how large teh struct is, we can start representing this in Rust. One strategy is to make a specialized struct for each type in the union.</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">pub struct </span><span>IfReqShort {
</span><span>    </span><span style="color:#bf616a;">ifr_name</span><span>: [c_char; 16],
</span><span>    </span><span style="color:#bf616a;">ifru_flags</span><span>: c_short,
</span><span>}
</span></code></pre>
<p>We can use <code>IfReqShort</code> when making a request of type <code>SIOCGIFINDEX</code>. This struct is smaller than the <code>ifreq</code> struct in C though. Even though we are expecting only 2 bytes to be written, the external ioctl interface expects there to be a total of 24 bytes. To be safe, let us add 22 bytes of padding at the end:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">pub struct </span><span>IfReqShort {
</span><span>    </span><span style="color:#bf616a;">ifr_name</span><span>: [c_char; 16],
</span><span>    </span><span style="color:#bf616a;">ifru_flags</span><span>: c_short,
</span><span>    </span><span style="color:#bf616a;">_padding</span><span>: [</span><span style="color:#b48ead;">u8</span><span>; 22],
</span><span>}
</span></code></pre>
<p>We would then repeat this process for each type in the union. I find this a bit tedious to do as we need to make a lot of structs and be very careful to make them the correct size. Another way to represent the union is to have a buffer of raw bytes. We can make a single C representation of <code>ifreq</code> in Rust like this:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">pub struct </span><span>IfReq {
</span><span>    </span><span style="color:#bf616a;">ifr_name</span><span>: [c_char; 16],
</span><span>    </span><span style="color:#bf616a;">union</span><span>: [</span><span style="color:#b48ead;">u8</span><span>; 24],
</span><span>}
</span></code></pre>
<p>This <code>union</code> buffer can store the raw bytes for any type. We can now define methods to convert the raw bytes into the type we want. We will avoid unsafe code by not using transmute. Let us create a method to get the MAC address by converting the raw bytes in a <code>sockaddr</code> C type.</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#b48ead;">impl </span><span>IfReq {
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_hwaddr</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; sockaddr {
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> s = sockaddr {
</span><span>            sa_family: </span><span style="color:#b48ead;">u16</span><span>::from_be((</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">0</span><span>] as </span><span style="color:#b48ead;">u16</span><span>) &lt;&lt; </span><span style="color:#d08770;">8 </span><span>| (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">1</span><span>] as </span><span style="color:#b48ead;">u16</span><span>)),
</span><span>            sa_data: [</span><span style="color:#d08770;">0</span><span>; </span><span style="color:#d08770;">14</span><span>],
</span><span>        };
</span><span>
</span><span>        </span><span style="color:#65737e;">// basically a memcpy
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, b) in </span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">2</span><span>..</span><span style="color:#d08770;">16</span><span>].</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            s.sa_data[i] = *b as </span><span style="color:#b48ead;">i8</span><span>;
</span><span>        }
</span><span>
</span><span>        s
</span><span>    }
</span><span>}
</span></code></pre>
<p>With this strategy, we have one struct and a method to convert the raw bytes into the concrete type that we want. Looking back at our <code>ifr_ifru</code> union, we will notice that there are at least two others requests that will also require me to create a <code>sockaddr</code> from raw bytes. To <em>DRY</em> this up, we could implement a private method on <code>IfReq</code> to convert raw bytes to <code>sockaddr</code>. However, we can do better by abstracting away the details of creating a <code>sockaddr</code>, <code>short</code>, <code>int</code>, etc from <code>IfReq</code>. We really just want to <em>tell</em> the union to give me back a specified type. So, let us make a <code>IfReqUnion</code> type to do that:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">struct </span><span>IfReqUnion {
</span><span>    </span><span style="color:#bf616a;">data</span><span>: [</span><span style="color:#b48ead;">u8</span><span>; 24],
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>IfReqUnion {
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">as_sockaddr</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; sockaddr {
</span><span>        </span><span style="color:#b48ead;">let mut</span><span> s = sockaddr {
</span><span>            sa_family: </span><span style="color:#b48ead;">u16</span><span>::from_be((</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">0</span><span>] as </span><span style="color:#b48ead;">u16</span><span>) &lt;&lt; </span><span style="color:#d08770;">8 </span><span>| (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">1</span><span>] as </span><span style="color:#b48ead;">u16</span><span>)),
</span><span>            sa_data: [</span><span style="color:#d08770;">0</span><span>; </span><span style="color:#d08770;">14</span><span>],
</span><span>        };
</span><span>
</span><span>        </span><span style="color:#65737e;">// basically a memcpy
</span><span>        </span><span style="color:#b48ead;">for </span><span>(i, b) in </span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">2</span><span>..</span><span style="color:#d08770;">16</span><span>].</span><span style="color:#96b5b4;">iter</span><span>().</span><span style="color:#96b5b4;">enumerate</span><span>() {
</span><span>            s.sa_data[i] = *b as </span><span style="color:#b48ead;">i8</span><span>;
</span><span>        }
</span><span>
</span><span>        s
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">as_int</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; c_int {
</span><span>        </span><span style="color:#b48ead;">c_int</span><span>::from_be((</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">0</span><span>] as </span><span style="color:#b48ead;">c_int</span><span>) &lt;&lt; </span><span style="color:#d08770;">24 </span><span>|
</span><span>                       (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">1</span><span>] as </span><span style="color:#b48ead;">c_int</span><span>) &lt;&lt; </span><span style="color:#d08770;">16 </span><span>|
</span><span>                       (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">2</span><span>] as </span><span style="color:#b48ead;">c_int</span><span>) &lt;&lt;  </span><span style="color:#d08770;">8 </span><span>|
</span><span>                       (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">3</span><span>] as </span><span style="color:#b48ead;">c_int</span><span>))
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">as_short</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; c_short {
</span><span>        </span><span style="color:#b48ead;">c_short</span><span>::from_be((</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">0</span><span>] as </span><span style="color:#b48ead;">c_short</span><span>) &lt;&lt; </span><span style="color:#d08770;">8 </span><span>|
</span><span>                         (</span><span style="color:#bf616a;">self</span><span>.data[</span><span style="color:#d08770;">1</span><span>] as </span><span style="color:#b48ead;">c_short</span><span>))
</span><span>    }
</span><span>}
</span></code></pre>
<p>We implement methods for each of the various types that make up the union. Now that our type conversions are handled by <code>IfReqUnion</code>, we can now implement the methods on <code>IfReq</code> like this:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">pub struct </span><span>IfReq {
</span><span>    </span><span style="color:#bf616a;">ifr_name</span><span>: [c_char; IFNAMESIZE],
</span><span>    </span><span style="color:#bf616a;">union</span><span>: IfReqUnion,
</span><span>}
</span><span>
</span><span style="color:#b48ead;">impl </span><span>IfReq {
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_hwaddr</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; sockaddr {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_sockaddr</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_dstaddr</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; sockaddr {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_sockaddr</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_broadaddr</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; sockaddr {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_sockaddr</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_ifindex</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; c_int {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_int</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_media</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; c_int {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_int</span><span>()
</span><span>    }
</span><span>
</span><span>    </span><span style="color:#b48ead;">pub fn </span><span style="color:#8fa1b3;">ifr_flags</span><span>(&amp;</span><span style="color:#bf616a;">self</span><span>) -&gt; c_short {
</span><span>        </span><span style="color:#bf616a;">self</span><span>.union.</span><span style="color:#96b5b4;">as_short</span><span>()
</span><span>    }
</span><span>}
</span></code></pre>
<p>We ended up with two structs. We have <code>IfReq</code> that represents the memory layout of the C struct <code>ifreq</code>. We will implement a method on <code>IfReq</code> for each type of <code>ioctl</code> request. We also have the <code>IfRequnion</code> struct that handles the various types the <code>ifr_ifru</code> union might be. We will create a method to for each type we need to handle. This is less work than creating a specialized struct for each type in the union and provides a better interface than doing the type conversion in <code>IfReq</code>.</p>
<p>Here is a more complete working <a href="https://github.com/hjr3/carp-rs/blob/5d56a62b1a698949a7252db637d3fbeadbb62e3b/src/mac.rs">example</a>. This is still a bit of a work in progress, but the tests pass and the code incorporates the above concepts discussed.</p>
<h2 id="warning"><a class="zola-anchor" href="#warning" aria-label="Anchor link for: warning">Warning</a></h2>
<p>The above approach is not without problems. In the case of <code>ifreq</code>, we were fortunate that <code>ifr_name</code> was 16 bytes and was aligned on a word boundary. If <code>ifr_name</code> was not aligned to a 4 byte word boundary, then we will run into a problem. Our <code>union</code> type is <code>[u8; 24]</code> which has an alignment of a single byte. This is not the same alignment as a type of size 24 bytes. Here is a short example to illustrate this point. If we have a C struct with the following union:</p>
<pre data-lang="C" style="background-color:#2b303b;color:#c0c5ce;" class="language-C "><code class="language-C" data-lang="C"><span style="color:#b48ead;">struct </span><span>foo {
</span><span>    </span><span style="color:#b48ead;">short</span><span> x;
</span><span>    </span><span style="color:#b48ead;">union </span><span>{
</span><span>        </span><span style="color:#b48ead;">int</span><span>;
</span><span>    } y;
</span><span>}
</span></code></pre>
<p>The above <code>foo</code> struct has a size of 8 bytes. Two bytes for <code>x</code>, two more bytes for padding and four bytes for <code>y</code>. If we tried to write this in Rust:</p>
<pre data-lang="rust" style="background-color:#2b303b;color:#c0c5ce;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#bf616a;">repr</span><span>(C)]
</span><span style="color:#b48ead;">pub struct </span><span>Foo {
</span><span>    </span><span style="color:#bf616a;">x</span><span>: </span><span style="color:#b48ead;">u16</span><span>,
</span><span>    </span><span style="color:#bf616a;">y</span><span>: [</span><span style="color:#b48ead;">u8</span><span>; 4],
</span><span>}
</span></code></pre>
<p>The above <code>Foo</code> struct is only 6 bytes. Two bytes for x and then we can fit the first two <code>u8</code> elements of <code>y</code> in the same 4 byte <em>word</em> as <code>x</code>. This subtle difference may cause problems when being passed to a C function that is expecting a struct of 8 bytes.</p>
<p>Until Rust natively supports unions, this sort of FFI is difficult to get right. Good luck, but be careful!</p>

    </div>

    
    <div class="article-info">
        
        <div class="article-date">March, 17 2016</div>
        
        <div class="article-taxonomies">
            
            
                <ul class="article-tags">
                    
                    <li><a href="https://hermanradtke.com/tags/rustlang/">#rustlang</a></li>
                    
                </ul>
            
        </div>
    </div>

</article>



        </main>
        <footer>
          

<p>
<div class="twitter">
  If you enjoyed this post, please share it with your followers on 
  <!-- Medium Fediverse Share -->
  <!--        AGPLv3.0        -->
  <div class="fedi-share fedi-share-md">
  	<input type="checkbox" class="fedi-check-toggle">
  	<div class="fedi-instance">
  		<span>Instance: </span>
  		<input type="textbox" name="fedi-instance-input" placeholder="social.uden.ai">
  		<button class="fedi-share-button">Share</button>
  	</div>
  	<label class="fedi-top fedi-check-label">
  		<!-- CC BY-SA 4.0 - Erik Uden -->
  		<img src="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='761' height='188' version='1.1' viewBox='0 0 713 176' xmlns='http://www.w3.org/2000/svg'%3E%3Cg%3E%3Cg transform='matrix(1.0065 0 0 1.0126 -4.299 -8.0083)'%3E%3Cg transform='translate(6.679 -32.496)' shape-rendering='auto'%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m181.13 275.14a68.892 68.892 0 0 1-29.465 29.328l161.76 162.39 38.998-19.764zm213.36 214.19-38.998 19.764 81.963 82.283a68.892 68.892 0 0 1 29.471-29.332z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23a730b8' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m581.65 339.39-91.576 46.41 6.752 43.189 103.62-52.514a68.892 68.892 0 0 1-18.791-37.086zm-144.74 73.352-216.53 109.73a68.892 68.892 0 0 1 18.795 37.09l204.48-103.63z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%235496be' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m367.28 142.44-104.48 203.97 30.848 30.967 110.62-215.96a68.892 68.892 0 0 1-36.99-18.98zm-131.65 257.02-52.922 103.31a68.892 68.892 0 0 1 36.986 18.979l46.781-91.328z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23ce3d1a' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m150.77 304.92a68.892 68.892 0 0 1-34.416 7.1953 68.892 68.892 0 0 1-6.6504-0.69531l30.902 197.66a68.892 68.892 0 0 1 34.416-7.1953 68.892 68.892 0 0 1 6.6465 0.69531z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23d0188f' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m239.34 560.54a68.892 68.892 0 0 1 0.7207 13.877 68.892 68.892 0 0 1-7.2676 27.18l197.63 31.713a68.892 68.892 0 0 1-0.72266-13.879 68.892 68.892 0 0 1 7.2695-27.178z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%235b36e9' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m601.13 377.2-91.219 178.08a68.892 68.892 0 0 1 36.994 18.982l91.217-178.08a68.892 68.892 0 0 1-36.992-18.984z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%2330b873' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m347.79 104.63-178.58 90.498a68.892 68.892 0 0 1 18.793 37.086l178.57-90.502a68.892 68.892 0 0 1-18.791-37.082z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23f47601' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m188.13 232.97a68.892 68.892 0 0 1 0.75781 14.096 68.892 68.892 0 0 1-7.1602 26.982l101.37 16.281 19.924-38.908zm173.74 27.9-19.926 38.912 239.51 38.467a68.892 68.892 0 0 1-0.69531-13.719 68.892 68.892 0 0 1 7.3496-27.324z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23dbb210' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3C/g%3E%3Cg transform='translate(6.679 -32.496)' fill-opacity='.99597'%3E%3Ccircle transform='rotate(3.1178)' cx='106.27' cy='51.536' r='16.571' fill='%23ffca00'/%3E%3Cellipse transform='rotate(3.1178)' cx='171.43' cy='110.19' rx='16.571' ry='16.571' fill='%2364ff00'/%3E%3Ccircle transform='rotate(3.1178)' cx='135.76' cy='190.28' r='16.571' fill='%2300a3ff'/%3E%3Ccircle transform='rotate(3.1178)' cx='48.559' cy='181.11' r='16.571' fill='%239500ff'/%3E%3Ccircle transform='rotate(3.1178)' cx='30.329' cy='95.367' r='16.571' fill='%23f00'/%3E%3C/g%3E%3C/g%3E%3C/g%3E%3Cg%3E%3Cpath d='m278.65 36.85c0.0288 10.885-0.0659 21.771 0.0645 32.656-3.996-4.827-10.049-7.6252-16.212-8.3057-6.8052-0.77851-14.056 0.21213-19.867 4.0309-5.9801 3.8707-9.9252 10.248-11.993 16.958-2.411 7.794-2.802 16.066-2.3596 24.165 0.48519 7.9431 2.177 16.054 6.5016 22.847 3.067 4.8895 7.7698 8.8212 13.323 10.532 5.2205 1.6423 10.847 1.565 16.19 0.60228 5.4256-1.0214 10.628-3.7058 14.176-7.9988 0.42516-0.62893 0.69809-0.84874 0.62923 0.0916 0.23019 2.4246 0.452 4.8647 1.0894 7.2237h21.965c-0.43701-7.3688-0.72844-14.749-0.64844-22.132v-82.544h-22.857v1.873zm38.562 0v9.3927a6.5585 6.5585 45 0 0 6.5585 6.5585h10.092a6.2071 6.2071 135 0 0 6.2071-6.2071v-5.0001a6.617 6.617 45 0 0-6.617-6.617h-14.367a1.873 1.873 135 0 0-1.873 1.873zm-248.04 5.0996v89.464a8.2395 8.2395 45 0 0 8.2395 8.2395h7.8625a7.7066 7.7066 135 0 0 7.7066-7.7066v-22.255a5.2001 5.2001 135 0 1 5.2001-5.2001h37.059a6.778 6.778 135 0 0 6.778-6.778v-5.6833a6.7907 6.7907 45 0 0-6.7907-6.7907h-37.36a4.886 4.886 45 0 1-4.886-4.886v-17.479a3.5427 3.5427 135 0 1 3.5427-3.5427h38.695a8.3641 8.3641 135 0 0 8.3641-8.3641v-2.7356a8.1542 8.1542 45 0 0-8.1542-8.1542h-64.383a1.873 1.873 135 0 0-1.873 1.873zm479.96 18.939c-3.7809-0.0275-7.6926 0.88342-10.686 3.2949-2.5218 1.9808-4.2834 4.7458-5.6172 7.625-0.17472-3.1697-0.33016-6.3442-0.75976-9.4922h-21.885c0.4839 7.509 0.72676 15.033 0.66211 22.558v54.778h22.857c0.0148-13.173-0.0297-26.347 0.0225-39.52 0.15909-4.7901 0.74175-9.7851 3.2328-13.982 1.7322-2.9181 4.775-5.0812 8.1895-5.418 3.9852-0.42238 7.9412 0.52408 11.815 1.3439v-19.553c-2.0484-0.96187-4.2674-1.5417-6.5346-1.6028-0.43172-0.0285-0.86523-0.023-1.2975-0.032zm45.18 0.0234c-7.1066 0.20062-14.439 1.386-20.605 5.123-4.3887 2.6295-7.9783 6.7396-9.4823 11.678-1.3642 4.4444-1.4253 9.2816-0.27163 13.779 0.98425 3.8299 3.3142 7.2225 6.3588 9.7155 3.1621 2.6705 6.9918 4.4071 10.94 5.5613 6.2111 1.9276 12.615 3.1099 18.96 4.4934 2.8017 0.73524 5.7948 1.4686 7.9974 3.4645 1.6718 1.6133 1.6811 4.4079 0.55407 6.3256-1.3829 2.0894-4.026 2.6986-6.3399 3.1192-3.1029 0.48988-6.2605 0.50696-9.3923 0.36917-0.46482-0.0248-1.2762-0.0815-1.8748-0.14163-2.679-0.32171-5.6459-0.69427-7.6486-2.6943-1.87-1.845-2.5943-4.4445-3.2715-6.9004-6.8411 1.025-13.683 2.048-20.523 3.0742 0.92636 3.482 1.9879 6.9846 3.9419 10.047 2.8838 4.7706 7.5191 8.3679 12.758 10.216 6.9578 2.5152 14.46 2.9735 21.799 2.8405 7.4178-0.23023 15.054-1.4978 21.504-5.3659 4.6991-2.7748 8.5968-7.1418 10.139-12.443 1.2719-4.2984 1.2565-8.9379 0.25399-13.289-1.3731-5.6352-5.4925-10.357-10.55-13.067-5.0852-2.7758-10.788-4.0639-16.354-5.4924-3.9266-0.99991-7.909-1.7089-11.832-2.66-2.0101-0.59619-4.1818-1.1425-5.7565-2.6068-1.4918-1.5032-1.5101-4.0729-0.42383-5.8047 1.2851-1.6472 3.4802-2.1179 5.4269-2.4963 3.5021-0.52049 7.102-0.57889 10.6 1.8e-4 2.4824 0.40383 5.0254 1.6144 6.2258 3.9389 0.83078 1.4492 1.0345 3.1282 1.3739 4.7349 6.9101-0.72299 13.82-1.445 20.73-2.166-0.68806-3.3149-1.5142-6.6597-3.243-9.6066-3.1178-5.6459-8.7232-9.5645-14.768-11.55-5.5293-1.8534-11.426-2.328-17.225-2.1966zm-408.42 0.0547c-7.485 0.10988-15.168 1.8683-21.325 6.29-5.8963 4.1572-10.023 10.506-12.049 17.38-2.2278 7.449-2.4929 15.354-1.8048 23.056 0.74978 7.6806 3.0085 15.462 7.9093 21.557 4.2287 5.3446 10.395 8.9711 16.994 10.527 6.1192 1.4521 12.524 1.5682 18.735 0.67726 6.6654-0.9776 13.189-3.7434 18.029-8.5121 3.7515-3.6248 6.3679-8.2558 8.1993-13.104 0.0269-0.44397 0.97206-1.4482 0.14968-1.374-7.2167-0.62715-14.434-1.2534-21.65-1.8794-0.68894 2.3846-1.5805 4.8733-3.5636 6.5004-2.7449 2.2858-6.5647 2.6407-9.9891 2.2571-3.5258-0.37323-6.7616-2.5475-8.4636-5.6537-2.0819-3.6841-2.6672-7.9893-2.8352-12.157h47.162c0.11311-8.616-0.55604-17.426-3.7422-25.514-2.5945-6.6573-7.2591-12.661-13.602-16.1-5.5124-3.0466-11.916-4.0884-18.154-3.9512zm278.72 0c-7.452 0.1102-15.1 1.8499-21.243 6.233-5.9136 4.1357-10.061 10.476-12.104 17.346-2.2512 7.4753-2.5258 15.414-1.8318 23.147 0.74916 7.7216 3.036 15.545 7.9866 21.654 4.2446 5.3188 10.414 8.9151 17.007 10.452 6.0925 1.4298 12.464 1.5421 18.646 0.65501 6.8103-0.99732 13.482-3.869 18.343-8.8306 3.6239-3.5894 6.1239-8.1403 7.9227-12.876 0.0677-0.46893 0.96045-1.4402 0.016-1.2929-7.1849-0.62374-14.37-1.2477-21.555-1.8708-0.69773 2.4333-1.6275 4.9789-3.6856 6.5995-2.7405 2.1997-6.4918 2.5339-9.8672 2.1585-3.5311-0.37168-6.7689-2.5551-8.4722-5.6646-2.0694-3.6853-2.6639-7.9812-2.8266-12.146h47.162c0.10933-8.648-0.55685-17.496-3.7822-25.606-2.6478-6.7618-7.4566-12.84-13.966-16.222-5.4195-2.8878-11.665-3.8673-17.75-3.7365zm209.14 0c-7.452 0.11027-15.1 1.85-21.243 6.233-5.8855 4.1165-10.023 10.417-12.074 17.251-2.2716 7.4701-2.5505 15.409-1.8719 23.143 0.73712 7.6607 2.9634 15.424 7.8185 21.527 4.2089 5.3868 10.383 9.0552 16.999 10.631 6.148 1.4772 12.588 1.5965 18.832 0.70182 6.778-0.99269 13.416-3.8407 18.273-8.759 3.6322-3.5797 6.1545-8.1192 7.9546-12.855 0.0284-0.44503 0.97526-1.4492 0.15367-1.3767-7.2181-0.62663-14.436-1.2535-21.654-1.8794-0.69216 2.4027-1.5973 4.9112-3.6074 6.5371-2.7442 2.2535-6.5386 2.601-9.9453 2.2209-3.5607-0.37443-6.8187-2.5932-8.5147-5.7393-2.0347-3.6705-2.6226-7.9343-2.7841-12.071h47.162c0.10966-8.6467-0.55731-17.493-3.78-25.602-2.6598-6.7936-7.5024-12.899-14.057-16.272-5.3993-2.8536-11.609-3.8196-17.661-3.6902zm-356.53 3.2227v75.463h22.857v-77.336h-22.857zm29.627 0.63086c8.9216 24.944 17.845 49.887 26.766 74.832h25.479c9.5051-25.779 19.012-51.557 28.518-77.336h-24.043c-5.2971 16.266-10.669 32.508-15.811 48.824-0.43805 1.4104-0.84917 2.8293-1.2729 4.2443-1.622-5.8564-3.3118-11.693-5.1741-17.478-3.7067-11.863-7.4098-23.728-11.119-35.59h-24.238c0.29882 0.83463 0.59765 1.6693 0.89648 2.5039zm-159.48 11.936c3.1341 0.078 6.23 1.5203 8.1292 4.0465 2.2354 2.8425 3.0748 6.4904 3.4861 10.012-8.1836-3e-3 -16.378 5e-3 -24.555-4e-3 0.33069-3.9958 1.3492-8.2392 4.2754-11.16 3.5473-3.5875 8.6641-2.8949 8.6641-2.8948zm278.72 0c3.1098 0.079 6.1866 1.4951 8.0852 3.9926 2.2658 2.849 3.1153 6.522 3.53 10.066-8.1836-3e-3 -16.378 5e-3 -24.555-4e-3 0.33062-4.0285 1.3676-8.3104 4.3458-11.231 2.2513-2.2254 5.516-2.9656 8.5936-2.824zm209.14 0c3.11 0.0796 6.1864 1.495 8.0852 3.9926 2.2694 2.8479 3.1147 6.522 3.53 10.066-8.1836-3e-3 -16.378 5e-3 -24.555-4e-3 0.3324-4.0275 1.3678-8.3108 4.3458-11.231 2.2528-2.2238 5.5153-2.9664 8.5936-2.824zm-409.28 0.96096c3.1544 0.11035 6.2726 1.5401 8.2082 4.0704 3.2364 4.1401 4.247 9.5064 4.6356 14.625 0.3299 5.9758 0.14275 12.112-1.7528 17.84-1.2693 3.7404-3.5836 7.4896-7.3718 9.0641-2.9443 1.185-6.3692 1.1951-9.329 0.0568-3.5008-1.3736-5.6197-4.8241-6.7234-8.2616-1.7782-5.5693-1.9299-11.501-1.7467-17.298 0.25062-4.8469 0.79941-9.8603 3.0928-14.218 1.4456-2.8214 4.1085-5.0568 7.2697-5.621 1.2197-0.25702 2.4748-0.30763 3.7175-0.25787z' fill='%23fff'/%3E%3C/g%3E%3Cg%3E%3Cellipse transform='matrix(.9985 .054721 -.05406 .99854 0 0)' cx='172.74' cy='70.595' rx='16.678' ry='16.779' fill='%2364ff00' fill-opacity='.99597'/%3E%3Cpath d='m150.59 82.92-24.386 12.434 1.798 11.571 27.592-14.069a18.345 18.457 0 0 1-5.0039-9.936zm-38.542 19.652-57.659 29.4a18.345 18.457 0 0 1 5.0049 9.937l54.452-27.765z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%235496be' image-rendering='auto' shape-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3C/g%3E%3Cg%3E%3Cpath d='m69.169 41.959v89.464a8.2395 8.2395 45 0 0 8.2395 8.2395h7.8625a7.7066 7.7066 135 0 0 7.7066-7.7066v-22.255a5.2001 5.2001 135 0 1 5.2001-5.2001h37.059a6.778 6.778 135 0 0 6.778-6.778v-5.6833a6.7907 6.7907 45 0 0-6.7907-6.7907h-37.36a4.886 4.886 45 0 1-4.886-4.886v-17.479a3.5427 3.5427 135 0 1 3.5427-3.5427h38.695a8.3641 8.3641 135 0 0 8.3641-8.3641v-2.7356a8.1542 8.1542 45 0 0-8.1542-8.1542h-64.383a1.873 1.873 135 0 0-1.873 1.873z' fill='%23fff'/%3E%3Cpath d='m155.65 93.024-24.291 47.711a18.345 18.457 0 0 1 9.8512 5.0857l24.29-47.711a18.345 18.457 0 0 1-9.8506-5.0862z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%2330b873' image-rendering='auto' shape-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3C/g%3E%3Cpath transform='matrix(.26629 0 0 .26792 -4.299 -8.0083)' d='m476.72 125.33a68.892 68.892 0 0 1-29.471 29.332l141.27 141.81a68.892 68.892 0 0 1 29.469-29.332z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23ebe305' image-rendering='auto' shape-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26629 0 0 .26792 -4.299 -8.0083)' d='m446.93 154.83a68.892 68.892 0 0 1-34.982 7.4824 68.892 68.892 0 0 1-6.0293-0.63281l15.818 101.29 43.162 6.9258zm-16 167.03 37.4 239.48a68.892 68.892 0 0 1 33.914-6.9434 68.892 68.892 0 0 1 7.207 0.79101l-35.357-226.41z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%2357c115' image-rendering='auto' shape-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3C/svg%3E%0A">
  		<!-- CC BY-SA 4.0 - Erik Uden -->
  	</label>
  </div>
  <script>Array.prototype.forEach||(Array.prototype.forEach=function(e){var t,o;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),o=0;o<r;){var i;o in n&&(i=n[o],e.call(t,i,o,n)),o++}}),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".fedi-share").forEach((function(e,t){e.querySelector(".fedi-check-toggle").id="fedi-check-toggle-"+t,e.querySelector(".fedi-check-label").htmlFor="fedi-check-toggle-"+t,e.querySelector(".fedi-share-button").addEventListener("click",(function(t){var o=new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@|\\d{1,3}(?:\\.\\d{1,3}){3}|(?:(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)(?:\\.(?:[a-z\\d\\u00a1-\\uffff]+-?)*[a-z\\d\\u00a1-\\uffff]+)*(?:\\.[a-z\\u00a1-\\uffff]{2,6}))(?::\\d+)?(?:[^\\s]*)?$","i"),n=e.querySelector('input[name="fedi-instance-input"]');if(o.test(n.value)){var r=`http://${n.value.replace(/(^\w+:|^)\/\//,"")}/share?text=${encodeURIComponent(document.title)} ${encodeURIComponent(location.href)}`;window.open(r,"new","toolbar=no,location=no,status=yes,resizable=yes,scrollbars=yes,height=600,width=400")}else n.classList.add("invalid"),setTimeout((function(){n.classList.remove("invalid")}),300)})),e.addEventListener("mouseleave",(function(t){e.querySelector(".fedi-check-toggle").checked=!1}))}))}));</script>
  <style>.fedi-check-toggle{height:0;width:0;padding:0;margin:0;visibility:hidden;display:none}.fedi-check-toggle:checked + .fedi-instance{display:block !important}.fedi-check-toggle:not(:checked) + .fedi-instance{display:none}.fedi-share.active{padding-bottom:10px}.fedi-share-lg .fedi-top{cursor:pointer;position:absolute;width:142px;top:0;left:0;padding:4px 8px;z-index:1}.fedi-share-md .fedi-top,.fedi-share-sm .fedi-top{cursor:pointer;position:absolute;width:18px;height:15px;top:0;left:0;padding:4px 8px;z-index:1}.fedi-share-lg,.fedi-share-md,.fedi-share-sm{color:white;display:inline-block;height:23px;background-color:#292D37;border-radius:3px;position:relative}.fedi-share-lg{width:157px}.fedi-share-md{width:93px}.fedi-share-sm{width:34px}.fedi-share-sm .fedi-logo{background:url("data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='196.52mm' height='196.52mm' version='1.1' viewBox='0 0 196.52 196.52' xmlns='http://www.w3.org/2000/svg' xmlns:cc='http://creativecommons.org/ns%23' xmlns:dc='http://purl.org/dc/elements/1.1/' xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%3E%3Cmetadata%3E%3Crdf:RDF%3E%3Ccc:Work rdf:about=''%3E%3Cdc:format%3Eimage/svg+xml%3C/dc:format%3E%3Cdc:type rdf:resource='http://purl.org/dc/dcmitype/StillImage'/%3E%3Cdc:title/%3E%3C/cc:Work%3E%3C/rdf:RDF%3E%3C/metadata%3E%3Cg transform='translate(6.679 -32.496)' shape-rendering='auto'%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m181.13 275.14a68.892 68.892 0 0 1-29.465 29.328l161.76 162.39 38.998-19.764zm213.36 214.19-38.998 19.764 81.963 82.283a68.892 68.892 0 0 1 29.471-29.332z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23a730b8' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m581.65 339.39-91.576 46.41 6.752 43.189 103.62-52.514a68.892 68.892 0 0 1-18.791-37.086zm-144.74 73.352-216.53 109.73a68.892 68.892 0 0 1 18.795 37.09l204.48-103.63z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%235496be' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m367.28 142.44-104.48 203.97 30.848 30.967 110.62-215.96a68.892 68.892 0 0 1-36.99-18.98zm-131.65 257.02-52.922 103.31a68.892 68.892 0 0 1 36.986 18.979l46.781-91.328z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23ce3d1a' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m150.77 304.92a68.892 68.892 0 0 1-34.416 7.1953 68.892 68.892 0 0 1-6.6504-0.69531l30.902 197.66a68.892 68.892 0 0 1 34.416-7.1953 68.892 68.892 0 0 1 6.6465 0.69531z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23d0188f' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m239.34 560.54a68.892 68.892 0 0 1 0.7207 13.877 68.892 68.892 0 0 1-7.2676 27.18l197.63 31.713a68.892 68.892 0 0 1-0.72266-13.879 68.892 68.892 0 0 1 7.2695-27.178z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%235b36e9' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m601.13 377.2-91.219 178.08a68.892 68.892 0 0 1 36.994 18.982l91.217-178.08a68.892 68.892 0 0 1-36.992-18.984z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%2330b873' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m476.72 125.33a68.892 68.892 0 0 1-29.471 29.332l141.27 141.81a68.892 68.892 0 0 1 29.469-29.332z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23ebe305' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m347.79 104.63-178.58 90.498a68.892 68.892 0 0 1 18.793 37.086l178.57-90.502a68.892 68.892 0 0 1-18.791-37.082z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23f47601' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m446.93 154.83a68.892 68.892 0 0 1-34.982 7.4824 68.892 68.892 0 0 1-6.0293-0.63281l15.818 101.29 43.162 6.9258zm-16 167.03 37.4 239.48a68.892 68.892 0 0 1 33.914-6.9434 68.892 68.892 0 0 1 7.207 0.79101l-35.357-226.41z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%2357c115' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3Cpath transform='matrix(.26458 0 0 .26458 -6.679 32.496)' d='m188.13 232.97a68.892 68.892 0 0 1 0.75781 14.096 68.892 68.892 0 0 1-7.1602 26.982l101.37 16.281 19.924-38.908zm173.74 27.9-19.926 38.912 239.51 38.467a68.892 68.892 0 0 1-0.69531-13.719 68.892 68.892 0 0 1 7.3496-27.324z' color='%23000000' color-rendering='auto' dominant-baseline='auto' fill='%23dbb210' image-rendering='auto' solid-color='%23000000' style='font-feature-settings:normal;font-variant-alternates:normal;font-variant-caps:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variant-position:normal;isolation:auto;mix-blend-mode:normal;shape-padding:0;text-decoration-color:%23000000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-orientation:mixed;text-transform:none;white-space:normal'/%3E%3C/g%3E%3Cg transform='translate(6.679 -32.496)' fill-opacity='.99597'%3E%3Ccircle transform='rotate(3.1178)' cx='106.27' cy='51.536' r='16.571' fill='%23ffca00'/%3E%3Ccircle transform='rotate(3.1178)' cx='171.43' cy='110.19' r='16.571' fill='%2364ff00'/%3E%3Ccircle transform='rotate(3.1178)' cx='135.76' cy='190.28' r='16.571' fill='%2300a3ff'/%3E%3Ccircle transform='rotate(3.1178)' cx='48.559' cy='181.11' r='16.571' fill='%239500ff'/%3E%3Ccircle transform='rotate(3.1178)' cx='30.329' cy='95.367' r='16.571' fill='%23f00'/%3E%3C/g%3E%3C/svg%3E%0A")}.fedi-share-md .fedi-instance,.fedi-share-sm .fedi-instance{border-radius:0 3px 3px 3px;z-index:0}.fedi-instance{background-color:#292D37;padding:8px;position:absolute;top:20px;left:0;margin:0 auto;border-radius:0 0 3px 3px}.fedi-share span{vertical-align:top;font-family:sans-serif;font-weight:700;font-size:12.5px}.fedi-share img{max-height:19px;margin-top:-2px;margin-left:-0.5px}.fedi-instance input[name="fedi-instance-input"]{background-color:#00000000;border:none;color:white;border-bottom:2px solid #3087D5;font-size:14px;font-weight:700;max-width:130px}.fedi-instance input[name="fedi-instance-input"][class="invalid"]{border-bottom:2px solid red;animation-name:shake;animation-duration:100ms;animation-timing-function:ease-in-out;animation-iteration-count:infinite}@-webkit-keyframes shake{41%,8%{-webkit-transform:translateX(-10px)}25%,58%{-webkit-transform:translateX(10px)}75%{-webkit-transform:translateX(-5px)}92%{-webkit-transform:translateX(5px)}0%,100%{-webkit-transform:translateX(0)}}.fedi-share input::placeholder{color:#C7C7CD}.fedi-share input:focus{outline:none}.fedi-share button{background-color:#00000000;color:white;border:none;font-size:14px;font-weight:700;padding:0;margin:8px 0 0;cursor:pointer}.fedi-share button:hover{color:#3087d5}</style>
  <!--        AGPLv3.0        -->
  <!-- Medium Fediverse Share -->

  or <a
      href="https://bsky.app/intent/compose?text=Working with C unions in Rust FFI https:&#x2F;&#x2F;hermanradtke.com&#x2F;2016&#x2F;03&#x2F;17&#x2F;unions-rust-ffi.html&#x2F;"
      target="_blank"
      rel="noopener noreferrer"
    >
      <svg style="width: 20px; height: auto; display: inline" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 568 501"><title>Bluesky butterfly logo</title><path fill="currentColor" d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C9.945 203.659 0 75.291 0 57.946 0-28.906 76.135-1.612 123.121 33.664Z"></path></svg>
      Bluesky Social
    </a>

</div>
</p>

<small>
  <span
      xmlns:dct="http://purl.org/dc/terms/"
      property="dct:title"
      >
      Working with C unions in Rust FFI
  </span>
    by
    <a
        xmlns:cc="http://creativecommons.org/ns#"
        href="https:&#x2F;&#x2F;hermanradtke.com&#x2F;2016&#x2F;03&#x2F;17&#x2F;unions-rust-ffi.html&#x2F;"
        property="cc:attributionName"
        rel="cc:attributionURL"
        >
        Herman J. Radtke III
    </a>
      is licensed under a
      <a
          rel="license"
          href="http://creativecommons.org/licenses/by/4.0/"
          >
          Creative Commons Attribution 4.0 International License
      </a>
        .
</small>


        </footer>
    </div>
</body>
</html>
